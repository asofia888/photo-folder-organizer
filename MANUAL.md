
# Photo Folder Organizer - ユーザーマニュアル

この度は「Photo Folder Organizer」をご利用いただき、ありがとうございます。このアプリケーションは、たくさんの写真フォルダを日付順に並べ替え、簡単な手順で名前を変更するためのツールです。AIによる命名サポート機能も搭載しており、面倒な整理作業を劇的に効率化します。

このマニュアルでは、アプリの基本的な使い方から便利な機能までを分かりやすく解説します。

---

## 目次

1.  [主な機能](#1-主な機能)
2.  [必要なもの（システム要件）](#2-必要なものシステム要件)
3.  [使い方（ステップ・バイ・ステップ）](#3-使い方ステップバイステップ)
    *   [ステップ1: フォルダの準備](#ステップ1-フォルダの準備)
    *   [ステップ2: 日付ルールの選択](#ステップ2-日付ルールの選択)
    *   [ステップ3: フォルダのドラッグ＆ドロップ](#ステップ3-フォルダのドラッグドロップ)
    *   [ステップ4: フォルダ名の設定](#ステップ4-フォルダ名の設定)
    *   [ステップ5: リネームスクリプトの生成](#ステップ5-リネームスクリプトの生成)
    *   [ステップ6: スクリプトの実行](#ステップ6-スクリプトの実行)
4.  [プライバシーとセキュリティについて](#4-プライバシーとセキュリティについて)
5.  [よくある質問（FAQ）](#5-よくある質問faq)

---

## 1. 主な機能

*   **ローカル処理:** あなたの写真は、お使いのコンピュータのブラウザ内のみで処理されます。サーバーにアップロードされることは一切なく、プライバシーは完全に保護されます。
*   **日付による自動ソート:** 各フォルダ内の写真の撮影日（EXIF情報）を読み取り、フォルダ全体を時系列に沿って自動で並べ替えます。
*   **AIによる命名提案:** (オプション機能) AIが写真の内容を分析し、フォルダ名としてふさわしい名前を提案します。
*   **一括リネームスクリプト:** 名前を変更するためのスクリプト（Windows用の`.bat`またはMac/Linux用の`.sh`）を生成します。これを実行するだけで、すべてのフォルダ名を一度に変更できます。

## 2. 必要なもの（システム要件）

*   **対応ブラウザ:** **Google Chrome** または **Microsoft Edge** の最新版デスクトップブラウザを推奨します。
    *   *注意: Firefoxやモバイルブラウザでは、フォルダを読み込む機能が正常に動作しない場合があります。*
*   **フォルダ構成:** 整理したい写真フォルダが、一つの親フォルダの中にまとまっている必要があります。

    ```
    例:
    My_Trip_Photos/  <-- これをドラッグ＆ドロップする
    ├── 2023-08-10_Tokyo/
    │   ├── IMG_001.jpg
    │   └── IMG_002.jpg
    ├── 2023-08-12_Kyoto/
    │   ├── photo1.jpg
    │   └── photo2.png
    └── 2023-08-15_Osaka/
        └── picture_A.heic
    ```

## 3. 使い方（ステップ・バイ・ステップ）

### ステップ1: フォルダの準備

整理したい複数の写真フォルダ（例: `2023-08-10_Tokyo`, `2023-08-12_Kyoto`）を、一つの親フォルダ（例: `My_Trip_Photos`）にまとめてください。

### ステップ2: 日付ルールの選択

アプリ画面で、各フォルダの日付を決定するためのルールを選択します。
*   **最も古い日付:** フォルダ内の写真のうち、一番古い撮影日をそのフォルダの代表日とします。イベントの開始日で整理したい場合に便利です。
*   **最も新しい日付:** フォルダ内の写真のうち、一番新しい撮影日を代表日とします。

### ステップ3: フォルダのドラッグ＆ドロップ

準備した**親フォルダ**（例: `My_Trip_Photos`）を、画面中央の点線で囲まれたエリアにドラッグ＆ドロップします。



アプリがフォルダのスキャンと写真データの解析を開始します。フォルダ数や写真の枚数によっては、少し時間がかかる場合があります。

### ステップ4: フォルダ名の設定

処理が完了すると、解析されたフォルダがカード形式で一覧表示されます。



各カードで、以下の操作を行います。

1.  **新しいフォルダ名を入力:** テキストボックスに、フォルダの新しい名前（例: `沖縄家族旅行`, `Summer_Vacation`）を入力します。日付のプレフィックス（`YYYY-MM-DD_`）は自動で付加されます。
2.  **AIで命名:** (APIキーが設定されている場合) `AIで命名`ボタンをクリックすると、AIが写真の内容から名前を提案してくれます。
3.  **保存:** 名前の入力後、右側のチェックマーク（保存）ボタンをクリックします。

名前が保存されると、カードが「準備完了」の状態に変わります。

### ステップ5: リネームスクリプトの生成

一つ以上のフォルダ名を保存すると、画面下部の「リネームスクリプトを生成」ボタンがクリックできるようになります。



このボタンをクリックすると、お使いのOSに応じたスクリプトファイル（`rename_folders.bat` または `rename_folders.sh`）がダウンロードされます。

### ステップ6: スクリプトの実行

**このステップは、あなたのコンピュータ上で行います。**

1.  ダウンロードしたスクリプトファイル（`rename_folders.bat`または`rename_folders.sh`）を、**ステップ3でドラッグ＆ドロップした親フォルダ**（例: `My_Trip_Photos`）の中に移動します。

2.  以下の手順でスクリプトを実行します。
    *   **Windowsの場合:**
        `rename_folders.bat` ファイルをダブルクリックして実行します。
    *   **Mac / Linux の場合:**
        親フォルダ内でターミナルを開き、`sh rename_folders.sh` と入力してEnterキーを押します。

スクリプトが正常に実行されると、設定した新しい名前にすべてのフォルダが一括で変更されます。

---

## 4. プライバシーとセキュリティについて

このアプリケーションは、ユーザーのプライバシーを最優先に設計されています。
**すべてのファイル処理（EXIF情報の読み取り、サムネイル生成など）は、あなたのブラウザ内で完結します。**
あなたの写真やファイル情報が、インターネット上のサーバーに送信・保存されることは一切ありません。安心してご利用ください。

---

## 5. よくある質問（FAQ）

**Q: フォルダをドロップしたのに、何も表示されません。**
A: 以下の点を確認してください。
*   ドロップしたのは、サブフォルダを含む**親フォルダ**ですか？ 単一のファイルや、空のフォルダは処理できません。
*   サブフォルダの中に、サポートされている画像ファイル（.jpg, .png, .heic, .webpなど）は含まれていますか？
*   推奨されているブラウザ（Chrome, Edge）を使用していますか？

**Q: 「AIで命名」ボタンが押せません／表示されません。**
A: AI機能は、アプリケーションの提供者によってAPIキーが設定されている場合にのみ利用可能なオプション機能です。この機能が有効でない場合、ボタンは表示されないか、無効になっています。

**Q: 処理にとても時間がかかります。**
A: 写真の枚数やフォルダ数が多い場合、すべてのファイルの情報を読み込むために時間がかかることがあります。処理が完了するまで、しばらくお待ちください。

**Q: スクリプトを実行しても、名前が変わりません。**
A: スクリプトファイルが、正しい親フォルダの直下に置かれているか確認してください。また、Mac/Linuxで`permission denied`のようなエラーが出る場合は、ターミナルで `chmod +x rename_folders.sh` を実行してから、再度スクリプトを実行してみてください。
